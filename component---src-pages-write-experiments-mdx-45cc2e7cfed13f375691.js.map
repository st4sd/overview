{"version":3,"file":"component---src-pages-write-experiments-mdx-45cc2e7cfed13f375691.js","mappings":"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","sources":["webpack://st4sd-overview/./src/pages/write-experiments.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/travis/build/st4sd/overview/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nimport { CarbonForIbmDotcom } from \"@carbon/pictograms-react\";\nimport { ArtTools_01 } from \"@carbon/pictograms-react\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst Column = makeShortcode(\"Column\");\nconst ImageCard = makeShortcode(\"ImageCard\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    {/*\n       Copyright IBM Inc. All Rights Reserved.\n      SPDX-License-Identifier: Apache-2.0\n     */}\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`Spend up to 60 minutes familiarizing yourself with building an experiment. This page assumes you are familiar with running experiments locally using the elaunch.py command line tool. If you need a refresher take a moment to read our `}<a parentName=\"p\" {...{\n          \"href\": \"/overview/direct-run\"\n        }}>{`docs`}</a>{` before continuing any further.`}</p>\n    </PageDescription>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Requirements</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Hello world</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Your first multi-step experiment</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Working with input files</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Read a file that a different part of the experiment produced</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Replicate parts of your experiment</AnchorLink>\n    </AnchorLinks>\n    <h3>{`Requirements`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`An understanding of `}<a parentName=\"p\" {...{\n            \"href\": \"/overview/direct-run\"\n          }}>{`how to run a ST4SD workflow locally`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`A python 3.9+ interpreter`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`A virtual environment with the `}<inlineCode parentName=\"p\">{`st4sd-runtime-core`}</inlineCode>{` python module`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`python -m venv venv\n. ./venv/bin/activate\npip install \"st4sd-runtime-core[develop]\"\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`A local copy of `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/st4sd/st4sd-examples\"\n          }}>{`https://github.com/st4sd/st4sd-examples`}</a></p>\n        <p parentName=\"li\">{`  Clone the github repository and then cd into its sub-directory `}<inlineCode parentName=\"p\">{`tutorials/1-write-experiments`}</inlineCode></p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`git clone https://github.com/st4sd/st4sd-examples.git\n`}</code></pre>\n      </li>\n    </ul>\n    <h2>{`ST4SD experiments`}</h2>\n    <p>{`ST4SD experiments consist of 2 parts, the templates of the experiment and the entrypoint section which references the starting point. There are 2 types of templates: workflows and components.`}</p>\n    <p>{`A component describes how to execute a task. A workflow describes how to execute its children steps which they themselves can be instances of other workflows or components.`}</p>\n    <p>{`Let’s see a couple of experiment examples.`}</p>\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p>{`Make sure your working directory is the sub-directory `}<inlineCode parentName=\"p\">{`tutorials/1-write-experiments`}</inlineCode>{` of the directory you stored `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/st4sd/st4sd-examples\"\n        }}>{`https://github.com/st4sd/st4sd-examples`}</a>{` in.`}</p>\n    </InlineNotification>\n    <h2>{`Hello world`}</h2>\n    <h3>{`The hello-world experiment`}</h3>\n    <p>{`Below is a simple hello world experiment you can run. It prints a user configurable message:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`entrypoint:\n  entry-instance: hello\n  execute:\n  - target: <entry-instance>\n    args:\n      message: Hello world\n\ncomponents:\n- signature:\n    name: hello\n    parameters:\n      - name: message\n  command:\n    executable: echo\n    arguments: \"%(message)s\"\n`}</code></pre>\n    <p>{`File: `}<inlineCode parentName=\"p\">{`0-hello-world.yaml`}</inlineCode></p>\n    <p>{`Run it like so:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-commandline\"\n      }}>{`elaunch.py -l40 --nostamp 0-hello-world.yaml\n`}</code></pre>\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p>{`For more information on running and troubleshooting experiments locally, check our `}<a parentName=\"p\" {...{\n          \"href\": \"/overview/direct-run\"\n        }}>{`elaunch.py command line tool documentation`}</a>{`.`}</p>\n    </InlineNotification>\n    <p>{`We use the `}<inlineCode parentName=\"p\">{`elaunch.py`}</inlineCode>{` script to execute a package, which happens to be a YAML file, and whose location is at `}<inlineCode parentName=\"p\">{`0-hello-world.yaml`}</inlineCode>{`. This happens to be a single-file package which we call `}<inlineCode parentName=\"p\">{`standard`}</inlineCode>{` project or package. There are also `}<inlineCode parentName=\"p\">{`directory`}</inlineCode>{` flavoured experiments which we call `}<inlineCode parentName=\"p\">{`standalone`}</inlineCode>{` packages. We’ll use a `}<inlineCode parentName=\"p\">{`standalone`}</inlineCode>{` project in our next example, so for the time being let’s focus on this `}<inlineCode parentName=\"p\">{`standard`}</inlineCode>{` project.`}</p>\n    <p>{`In ST4SD the outputs of an experiment are placed in a directory called `}<inlineCode parentName=\"p\">{`\\${package-name}.instance`}</inlineCode>{` which is created in the directory you were in when you ran `}<inlineCode parentName=\"p\">{`elaunch.py`}</inlineCode>{`.`}</p>\n    <p>{`For more information on the structure of `}<inlineCode parentName=\"p\">{`0-hello-world.instance`}</inlineCode>{` and how to run experiments using `}<inlineCode parentName=\"p\">{`elaunch.py`}</inlineCode>{` see our documentation on `}<a parentName=\"p\" {...{\n        \"href\": \"/overview/direct-run/#what-is-the-output-of-my-experiment\"\n      }}>{`running experiments locally`}</a>{`.`}</p>\n    <p>{`Before you continue any further, use `}<inlineCode parentName=\"p\">{`ls`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`cd`}</inlineCode>{` to look at the structure of `}<inlineCode parentName=\"p\">{`0-hello-world.instance`}</inlineCode>{` which contains the files related to this instance of your experiment. Make sure to look at the stdout of your component. You will find that file under `}<inlineCode parentName=\"p\">{`0-hello-world.instance/stages/stage0/entry-instance/out.stdout`}</inlineCode>{`.`}</p>\n    <p>{`You might be wondering why your `}<inlineCode parentName=\"p\">{`hello`}</inlineCode>{` component is called `}<inlineCode parentName=\"p\">{`entry-instance`}</inlineCode>{`. The next section explains why.`}</p>\n    <h3>{`Entrypoint`}</h3>\n    <p>{`In this example, the `}<inlineCode parentName=\"p\">{`entrypoint`}</inlineCode>{` section looks like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`entrypoint:\n  entry-instance: hello\n  execute:\n  - target: <entry-instance>\n    args:\n      message: Hello world\n`}</code></pre>\n    <p>{`The purpose of the `}<inlineCode parentName=\"p\">{`entrypoint`}</inlineCode>{` is to reference the root template instance of your experiment and describe how to execute it by providing values to its parameters/arguments. This is similar to how in object oriented languages you create instances of classes. In ST4SD you use the entrypoint and workflows to execute component and workflow templates.`}</p>\n    <p>{`The entrypoint always points to exactly 1 instance of some template. This instance is always called `}<inlineCode parentName=\"p\">{`entry-instance`}</inlineCode>{`, kind of how you always have a `}<inlineCode parentName=\"p\">{`main`}</inlineCode>{` function in C and other languages. Because the `}<inlineCode parentName=\"p\">{`0-hello-world`}</inlineCode>{` experiment points to a component template, the instance of that component template is called `}<inlineCode parentName=\"p\">{`entry-instance`}</inlineCode>{`. You can find the files it produces under the directory `}<inlineCode parentName=\"p\">{`0-hello-world.instance/stages/stage0/entry-instance`}</inlineCode>{`.`}</p>\n    <p>{`Notice that in `}<inlineCode parentName=\"p\">{`entrypoint.execute[0].target`}</inlineCode>{` the entrypoint references `}<inlineCode parentName=\"p\">{`<entry-instance>`}</inlineCode>{` instead of `}<inlineCode parentName=\"p\">{`entry-instance`}</inlineCode>{`. This is to make it explicit that we are referencing an `}<strong parentName=\"p\">{`instance`}</strong>{` of a template, not the template itself. In ST4SD, references to template instances are enveloped in `}<inlineCode parentName=\"p\">{`<>`}</inlineCode>{` just like `}<inlineCode parentName=\"p\">{`<this>`}</inlineCode>{`.`}</p>\n    <h3>{`Components`}</h3>\n    <p>{`The `}<inlineCode parentName=\"p\">{`components`}</inlineCode>{` array is where you define the component templates that your experiments may instantiate as steps. A component consists of a signature (i.e. unique name and parameters) and what it executes (i.e. its command). There are also other optional configurations which control its behaviour but we will omit these for now. If you wish to know more, there is a link at the bottom of this page with more information about the Domain Specific Language (DSL) that ST4SD experiments use.`}</p>\n    <p>{`Here is that component we saw above:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`signature:\n  name: hello\n  parameters:\n  - name: message\ncommand:\n  executable: echo\n  arguments: \"%(message)s\"\n`}</code></pre>\n    <p>{`Focusing on the `}<inlineCode parentName=\"p\">{`command`}</inlineCode>{` dictionary we see that the command of this component points to the `}<inlineCode parentName=\"p\">{`echo`}</inlineCode>{` executable. You have 3 options when you define the executable of a command:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The name of a binary which the runtime expects to exist in a directory that the `}<inlineCode parentName=\"li\">{`$PATH`}</inlineCode>{` environment variable points to (this example)`}</li>\n      <li parentName=\"ul\">{`An absolute path to the binary`}</li>\n      <li parentName=\"ul\">{`A path to the binary which relative to the instance directory. This last option is mostly useful when working with `}<inlineCode parentName=\"li\">{`standalone`}</inlineCode>{` projects which we cover in our next example.`}</li>\n    </ul>\n    <p><inlineCode parentName=\"p\">{`hello`}</inlineCode>{` is effectively a wrapper for the binary file `}<inlineCode parentName=\"p\">{`echo`}</inlineCode>{` which comes bundled with your typical Unix/MacOS/Linux operating system. When an instance of this component template runs it prints the contents of the `}<inlineCode parentName=\"p\">{`message`}</inlineCode>{` parameter to the stdout.`}</p>\n    <p>{`Speaking of parameters, notice that the `}<inlineCode parentName=\"p\">{`message`}</inlineCode>{` parameter does not have a default value. We could have added one like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`parameters:\n  - name: message\n    default: some default value\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`default`}</inlineCode>{` value of a parameter is only used if the caller of the component (in this example the `}<inlineCode parentName=\"p\">{`entrypoint`}</inlineCode>{`) does not assign a value to that parameter. In this instance, the entrypoint does assign a value to the `}<inlineCode parentName=\"p\">{`message`}</inlineCode>{` parameter so adding a default value will not make a difference.`}</p>\n    <h3>{`Exercises`}</h3>\n    <p>{`In ST4SD you can override the parameters of `}<inlineCode parentName=\"p\">{`entry-instance`}</inlineCode>{` that the `}<inlineCode parentName=\"p\">{`entrypoint`}</inlineCode>{` sets via the dictionary `}<inlineCode parentName=\"p\">{`entrypoint.execute[0].args`}</inlineCode>{`.`}</p>\n    <p>{`For example, place the following into a new file `}<inlineCode parentName=\"p\">{`my-variables.yaml`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`global:\n  message: my custom message\n`}</code></pre>\n    <p>{`Then remove the `}<inlineCode parentName=\"p\">{`0-hello-world.instance`}</inlineCode>{` directory and run the experiment again but this time use load the `}<inlineCode parentName=\"p\">{`my-variables.yaml`}</inlineCode>{` file:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`: # Recall that you have to remove 0-hello-world.instance because of --nostamp\nrm -rf 0-hello-world.instance\nelaunch.py -l40 --nostamp -a my-variables.yaml 0-hello-world.yaml\n`}</code></pre>\n    <p>{`Take a look at the stdout of your component. If you are having trouble finding the output under the `}<inlineCode parentName=\"p\">{`0-hello-world.instance/stages`}</inlineCode>{` directory see our documentation on `}<a parentName=\"p\" {...{\n        \"href\": \"/overview/direct-run/#what-is-the-output-of-my-experiment\"\n      }}>{`running experiments locally`}</a>{`. The path to the file that contains the stdout of the component `}<inlineCode parentName=\"p\">{`hello`}</inlineCode>{` is `}<inlineCode parentName=\"p\">{`0-hello-world.instance/stages/stage0/entry-instance/out.stdout`}</inlineCode>{`.`}</p>\n    <h2>{`Run some custom python code`}</h2>\n    <p>{`What if you wanted to execute a custom python script with your component? You’d just need to point your `}<inlineCode parentName=\"p\">{`command.executable`}</inlineCode>{` to a python script.`}</p>\n    <p>{`Here’s an example script:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`#!/usr/bin/env python\n\nimport sys\n\nprint(sys.argv[1])\n`}</code></pre>\n    <p>{`File: `}<inlineCode parentName=\"p\">{`1-hello-python.package/bin/hello.py`}</inlineCode></p>\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p>{`Make sure that files you use for `}<inlineCode parentName=\"p\">{`command.executable`}</inlineCode>{` are actually “executable”! In this example, we’ve already run `}<inlineCode parentName=\"p\">{`chmod +x 1-hello-python.package/bin/hello.py`}</inlineCode>{` for you.`}</p>\n    </InlineNotification>\n    <p>{`Your experiment definition would look like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`entrypoint:\n  entry-instance: hello\n  execute:\n  - target: <entry-instance>\n    args:\n      message: Hello world\n\ncomponents:\n- signature:\n    name: hello\n    parameters:\n      - name: message\n  command:\n    executable: bin/hello.py\n    arguments: '\"%(message)s\"'\n`}</code></pre>\n    <p>{`File: `}<inlineCode parentName=\"p\">{`1-hello-python.package/conf/dsl.yaml`}</inlineCode></p>\n    <p>{`Eagle eye readers will have noticed that the path to the DSL file is now `}<inlineCode parentName=\"p\">{`1-hello-python.package/conf/dsl.yaml`}</inlineCode>{`. Contrary to the `}<inlineCode parentName=\"p\">{`0-hello-world.yaml`}</inlineCode>{` experiment above this new experiment is not a “single file” experiment (i.e. a `}<inlineCode parentName=\"p\">{`standard`}</inlineCode>{` project). It is what we call a `}<inlineCode parentName=\"p\">{`standalone`}</inlineCode>{` project. A standalone project is a directory which contains the experiment configuration file under the `}<inlineCode parentName=\"p\">{`conf`}</inlineCode>{` sub-directory. It may also contain other sub-directories which it can reference. For example, it is common for standalone projects to contain  the script(s) they’re using under the `}<inlineCode parentName=\"p\">{`bin`}</inlineCode>{` directory.`}</p>\n    <p>{`When you looked at the contents of the `}<inlineCode parentName=\"p\">{`0-hello-world.instance`}</inlineCode>{` directory for the above example you actually saw some of these directories. This is because a “standard” project is just a compressed form of a “standalone” project. Before `}<inlineCode parentName=\"p\">{`elaunch.py`}</inlineCode>{` starts executing your experiment it populates the contents of the experiment instance directory by copying over the contents of the project in the form of a `}<inlineCode parentName=\"p\">{`standalone`}</inlineCode>{` project. This gets you the `}<inlineCode parentName=\"p\">{`conf`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`data`}</inlineCode>{`, and other directories that we went over in our `}<a parentName=\"p\" {...{\n        \"href\": \"/overview/direct-run#what-is-the-output-of-my-experiment\"\n      }}>{`outputs of experiments`}</a>{` docs.`}</p>\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p>{`ST4SD supports a couple of different ways to write experiments. It determines which format to use for loading the experiment by looking at the filename of the experiment configuration. When building experiments using the DSL you see in these examples make sure to store your experiment configuration file as `}<inlineCode parentName=\"p\">{`$package_name/conf/dsl.yam`}</inlineCode>{`. For more information see our documentation on `}<a parentName=\"p\" {...{\n          \"href\": \"/overview/packaging-workflows\"\n        }}>{`packaging workflows`}</a>{`.`}</p>\n    </InlineNotification>\n    <p>{`Let’s take a closer look at the `}<inlineCode parentName=\"p\">{`command`}</inlineCode>{` field of the `}<inlineCode parentName=\"p\">{`hello`}</inlineCode>{` component:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`command:\n  executable: bin/hello.py\n  arguments: '\"%(message)s\"'\n`}</code></pre>\n    <p>{`The executable is `}<inlineCode parentName=\"p\">{`bin/hello.py`}</inlineCode>{`. This is a relative path (it does not start with a `}<inlineCode parentName=\"p\">{`/`}</inlineCode>{` but contains a `}<inlineCode parentName=\"p\">{`/`}</inlineCode>{`) which instructs the runtime that it should find the binary that `}<inlineCode parentName=\"p\">{`command.executable`}</inlineCode>{` points to under the experiment instance directory.`}</p>\n    <h3>{`Exercises`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Use `}<inlineCode parentName=\"li\">{`elaunch.py`}</inlineCode>{` to run `}<inlineCode parentName=\"li\">{`1-hello-python.package`}</inlineCode>{` and look at the output of the component. Recall that `}<inlineCode parentName=\"li\">{`elaunch.py`}</inlineCode>{` expects a path to the package definition. Which in this example is `}<inlineCode parentName=\"li\">{`1-hello-python.package/`}</inlineCode>{`. After `}<inlineCode parentName=\"li\">{`elaunch.py`}</inlineCode>{` completes, look at the stdout of your component.`}</li>\n    </ul>\n    <h2>{`Your first multi-step experiment`}</h2>\n    <p>{`Running multiple steps requires chaining components. That’s where Workflow come in.`}</p>\n    <p>{`Here’s an example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`entrypoint:\n  entry-instance: many-steps\n  execute:\n  - target: <entry-instance>\n    args:\n      external: From entrypoint arguments\n\nworkflows:\n- signature:\n    name: many-steps\n    parameters:\n    - name: external\n  steps:\n    foo: hello\n    bar: hello\n  execute:\n    - target: <foo>\n      args:\n        message: \"from my parent workflow: %(external)s\"\n    - target: <bar>\n      args:\n        message: \"from my producer: <foo>:output\"\n\ncomponents:\n- signature:\n    name: hello\n    parameters:\n      - name: message\n  command:\n    executable: echo\n    arguments: \"%(message)s\"\n`}</code></pre>\n    <p>{`File: `}<inlineCode parentName=\"p\">{`2-many-steps.yaml`}</inlineCode></p>\n    <h3>{`Workflows`}</h3>\n    <p>{`A workflow looks similar to the `}<inlineCode parentName=\"p\">{`entrypoint`}</inlineCode>{` doesn’t it? That’s by design.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`entrypoint`}</inlineCode>{` is just a special `}<inlineCode parentName=\"p\">{`workflow`}</inlineCode>{`  which executes exactly 1 `}<inlineCode parentName=\"p\">{`step`}</inlineCode>{` called `}<inlineCode parentName=\"p\">{`entry-instance`}</inlineCode>{` so it has exactly 1 entry under its `}<inlineCode parentName=\"p\">{`execute`}</inlineCode>{` array. In contrast, `}<inlineCode parentName=\"p\">{`workflow`}</inlineCode>{` templates describe how to execute 1 or more steps.`}</p>\n    <p>{`Let’s dig into the `}<inlineCode parentName=\"p\">{`many-steps`}</inlineCode>{` workflow:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`signature:\n  name: many-steps\n  parameters:\n    - name: external\nsteps:\n  foo: hello\n  bar: hello\nexecute:\n- target: <foo>\n    args:\n        message: \"from my parent workflow: %(external)s\"\n- target: <bar>\n    args:\n        message: \"from my producer: <foo>:output\"\n`}</code></pre>\n    <p>{`It has a `}<inlineCode parentName=\"p\">{`signature`}</inlineCode>{` with a name and parameters, just like the `}<inlineCode parentName=\"p\">{`hello`}</inlineCode>{` component. However, unlike the `}<inlineCode parentName=\"p\">{`component`}</inlineCode>{` kind of Templates, the `}<inlineCode parentName=\"p\">{`workflow`}</inlineCode>{` Templates do not have a `}<inlineCode parentName=\"p\">{`command`}</inlineCode>{` section or any of the other `}<inlineCode parentName=\"p\">{`component`}</inlineCode>{` sections. Instead they have a `}<inlineCode parentName=\"p\">{`steps`}</inlineCode>{` and an `}<inlineCode parentName=\"p\">{`execute`}</inlineCode>{` section.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`steps`}</inlineCode>{` section assigns identifiers to the template instances that the workflow creates. We call these identifiers `}<inlineCode parentName=\"p\">{`step identifiers`}</inlineCode>{`. The `}<inlineCode parentName=\"p\">{`execute`}</inlineCode>{` section describes how to execute the `}<inlineCode parentName=\"p\">{`steps`}</inlineCode>{`. For each step of the workflow, the execute array contains an entry with a `}<inlineCode parentName=\"p\">{`target`}</inlineCode>{` field that referencing a step like `}<inlineCode parentName=\"p\">{`<this>`}</inlineCode>{`. It also contains an `}<inlineCode parentName=\"p\">{`args`}</inlineCode>{` and dictionary for providing values to the parameters of the `}<inlineCode parentName=\"p\">{`target`}</inlineCode>{` step.`}</p>\n    <p>{`Earlier we saw how components reference their parameters (e.g. in their commandline). Workflows can reference their own parameters to set the values of arguments to their `}<inlineCode parentName=\"p\">{`steps`}</inlineCode>{`. Here’s how this workflow sets the  `}<inlineCode parentName=\"p\">{`message`}</inlineCode>{` parameter of its `}<inlineCode parentName=\"p\">{`<foo>`}</inlineCode>{` step:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`- target: <foo>\n    args:\n        message: \"from my parent workflow: %(external)s\"\n`}</code></pre>\n    <p>{`Workflow steps can also reference the outputs of other steps. Let’s take a look at `}<inlineCode parentName=\"p\">{`<bar>`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`- target: <bar>\n    args:\n    message: \"from my producer: <bar>:output\"\n`}</code></pre>\n    <p>{`See how it references the `}<inlineCode parentName=\"p\">{`<foo>`}</inlineCode>{` step? It actually uses the `}<inlineCode parentName=\"p\">{`:output`}</inlineCode>{` output of the `}<inlineCode parentName=\"p\">{`<foo>`}</inlineCode>{` step which instructs the ST4SD runtime to replace the `}<inlineCode parentName=\"p\">{`<foo>:output`}</inlineCode>{` string with the contents of the contents of the `}<inlineCode parentName=\"p\">{`stdout`}</inlineCode>{` stream from the `}<inlineCode parentName=\"p\">{`<foo>`}</inlineCode>{` step. Referencing steps in the arguments of other steps also defines the execution order of the steps. There are other reference methods, like for example `}<inlineCode parentName=\"p\">{`:ref`}</inlineCode>{` which you can use to reference a file or a directory that a component produces. We have a link to the DataReference documentation at the bottom of this document.`}</p>\n    <p>{`In this example, the runtime system will execute the `}<inlineCode parentName=\"p\">{`<foo>`}</inlineCode>{` component first because it needs its output before it can launch the `}<inlineCode parentName=\"p\">{`<bar>`}</inlineCode>{` component.`}</p>\n    <h3>{`Exercises`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Run the experiment and take a moment to think what the contents of the file out.stdout of `}<inlineCode parentName=\"li\">{`<bar>`}</inlineCode>{` should be.  Next, look at the directories under `}<inlineCode parentName=\"li\">{`stages/stage0`}</inlineCode>{` and read the `}<inlineCode parentName=\"li\">{`out.stdout`}</inlineCode>{` file for the `}<inlineCode parentName=\"li\">{`<bar>`}</inlineCode>{` component.`}</li>\n      <li parentName=\"ul\">{`Add a third step to the workflow which references the `}<inlineCode parentName=\"li\">{`:output`}</inlineCode>{` of both `}<inlineCode parentName=\"li\">{`foo`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`bar`}</inlineCode>{`.`}</li>\n    </ul>\n    <h2>{`Working with input files`}</h2>\n    <p>{`Let’s build an experiment which uses python to read a file and print its contents to the terminal.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`entrypoint:\n  entry-instance: wrapper\n  execute:\n  - target: <entry-instance>\n    args:\n      input.message: input/message\n\nworkflows:\n- signature:\n    name: wrapper\n    parameters:\n      - name: input.message\n\n  steps:\n    printer: printer\n  execute:\n    - target: <printer>\n      args:\n        file: \"%(input.message)s:ref\"\n\ncomponents:\n- signature:\n    name: printer\n    parameters:\n      - name: file\n  command:\n    executable: cat\n    arguments: \"%(file)s\"\n`}</code></pre>\n    <p>{`File: `}<inlineCode parentName=\"p\">{`3-input-files.yaml`}</inlineCode></p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`printer`}</inlineCode>{` component has a `}<inlineCode parentName=\"p\">{`file`}</inlineCode>{` parameter. When the `}<inlineCode parentName=\"p\">{`wrapper`}</inlineCode>{` workflow instanciates the `}<inlineCode parentName=\"p\">{`<printer>`}</inlineCode>{` step it sets the value of its parameter `}<inlineCode parentName=\"p\">{`file`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`%(input.message)%s:ref`}</inlineCode>{`. This instructs the runtime that the `}<inlineCode parentName=\"p\">{`<printer>`}</inlineCode>{` is receiving a reference `}<inlineCode parentName=\"p\">{`(:ref)`}</inlineCode>{` to a file whose path is `}<inlineCode parentName=\"p\">{`%(input.message)s`}</inlineCode>{` i.e. `}<inlineCode parentName=\"p\">{`input/message`}</inlineCode>{`.`}</p>\n    <p>{`To run this experiment create a file called `}<inlineCode parentName=\"p\">{`message`}</inlineCode>{` with a message like this:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`A greeting read from a file\n`}</code></pre>\n    <p>{`Then launch the experiment like so:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`elaunch.py -l40 --no-stamp -i message 3-input-files.yaml\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`-i message`}</inlineCode>{` argument instructs the runtime that it should use the `}<inlineCode parentName=\"p\">{`message`}</inlineCode>{` file as an `}<inlineCode parentName=\"p\">{`input`}</inlineCode>{` file for your experiment. It’ll place that file under the directory `}<inlineCode parentName=\"p\">{`3-input-files.instance/input`}</inlineCode>{` which will enable instances of components and workflows to reference it by including the text `}<inlineCode parentName=\"p\">{`input/message:$method`}</inlineCode>{` in their arguments. Where `}<inlineCode parentName=\"p\">{`method`}</inlineCode>{` can be one of `}{`[`}<inlineCode parentName=\"p\">{`output`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`ref`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`copy`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`link`}</inlineCode>{`]`}{`. The whole string `}<inlineCode parentName=\"p\">{`$path:$method`}</inlineCode>{` (in this example `}<inlineCode parentName=\"p\">{`input/message:ref`}</inlineCode>{` ) is what we call a DataReference in ST4SD. You can find more information about DataReferences in our `}<a parentName=\"p\" {...{\n        \"href\": \"/overview/workflow-specification#datareference\"\n      }}>{`workflow specification documentation`}</a>{`.`}</p>\n    <h3>{`Exercises`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Execute the `}<inlineCode parentName=\"li\">{`3-input-files.yaml`}</inlineCode>{` experiment using `}<inlineCode parentName=\"li\">{`elaunch.py`}</inlineCode>{` and then look at the output of the `}<inlineCode parentName=\"li\">{`printer`}</inlineCode>{` component in `}<inlineCode parentName=\"li\">{`stage0`}</inlineCode>{`.`}</li>\n    </ul>\n    <h2>{`Read a file that a different part of the experiment produced`}</h2>\n    <p>{`In ST4SD workflow and component templates have `}<inlineCode parentName=\"p\">{`outputs`}</inlineCode>{` which steps can reference. The outputs of `}<inlineCode parentName=\"p\">{`workflows`}</inlineCode>{` are its children `}<inlineCode parentName=\"p\">{`steps`}</inlineCode>{` and the outputs of a `}<inlineCode parentName=\"p\">{`component`}</inlineCode>{` are the file(s) it produces as well as the text it prints to its stdout stream.`}</p>\n    <p>{`We already saw an example of this in `}<a parentName=\"p\" {...{\n        \"href\": \"#your-first-multi-step-experiment\"\n      }}><inlineCode parentName=\"a\">{`Your first multi-step experiment`}</inlineCode></a>{` where a component printed the `}<inlineCode parentName=\"p\">{`stdout`}</inlineCode>{` of a different component. Let’s take it a step further and have an experiment where a component prepares a file that a different component reads.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`entrypoint:\n  entry-instance: many-steps\n  execute:\n  - target: <entry-instance>\n    args:\n      external: From entrypoint arguments\n\nworkflows:\n- signature:\n    name: many-steps\n    parameters:\n    - name: external\n  steps:\n    foo: writer\n    bar: reader\n  execute:\n    - target: <foo>\n      args:\n        message: \"%(external)s\"\n    - target: <bar>\n      args:\n        file: \"<foo>/my_output.txt:ref\"\n\ncomponents:\n- signature:\n    name: writer\n    parameters:\n      - name: message\n      - name: output_file\n        default: my_output.txt\n  command:\n    executable: echo\n    arguments: \"%(message)s > %(output_file)s\"\n\n- signature:\n    name: reader\n    parameters:\n      - name: file\n  command:\n    executable: cat\n    arguments: \"%(file)s\"\n`}</code></pre>\n    <p>{`File: `}<inlineCode parentName=\"p\">{`4-read-step-outputs.yaml`}</inlineCode></p>\n    <p>{`Here’s how we configure the `}<inlineCode parentName=\"p\">{`bar`}</inlineCode>{` step to consume the file `}<inlineCode parentName=\"p\">{`my_output.txt`}</inlineCode>{` that the `}<inlineCode parentName=\"p\">{`foo`}</inlineCode>{` component produces:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`execute:\n  # ...\n  - target: <bar>\n    args:\n      file: \"<foo>/my_output.txt:ref\"\n`}</code></pre>\n    <p>{`The parent workflow configures the value of the `}<inlineCode parentName=\"p\">{`file`}</inlineCode>{` parameter that the `}<inlineCode parentName=\"p\">{`bar`}</inlineCode>{` step has to: `}<inlineCode parentName=\"p\">{`<foo>/my_output.txt:ref`}</inlineCode>{`. This represents `}<inlineCode parentName=\"p\">{`a file reference (:ref) to the \"my_output.txt\" output that the <foo> step produces`}</inlineCode>{`.`}</p>\n    <h2>{`Exercises`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Run the experiment and look at the files that component instances produced.`}</li>\n    </ul>\n    <h2>{`Replicate parts of your experiment`}</h2>\n    <p>{`Sometimes you just need to run several copies of the same task on different data.`}</p>\n    <p>{`Take for example the graph below:`}</p>\n    <Column colMd={4} colLg={4} noGutterSm mdxType=\"Column\">\n      <ImageCard href=\"/\" disabled mdxType=\"ImageCard\">\n        <span {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"343px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"134.7222222222222%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,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')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n              \"srcSet\": [\"/overview/static/a87d0fc1bbc403c63e8a17a8e9684863/0eda2/5-sample-workflow.webp 288w\", \"/overview/static/a87d0fc1bbc403c63e8a17a8e9684863/cf4fe/5-sample-workflow.webp 343w\"],\n              \"sizes\": \"(max-width: 343px) 100vw, 343px\",\n              \"type\": \"image/webp\"\n            }}></source>{`\n          `}<source parentName=\"picture\" {...{\n              \"srcSet\": [\"/overview/static/a87d0fc1bbc403c63e8a17a8e9684863/7fc1e/5-sample-workflow.png 288w\", \"/overview/static/a87d0fc1bbc403c63e8a17a8e9684863/73241/5-sample-workflow.png 343w\"],\n              \"sizes\": \"(max-width: 343px) 100vw, 343px\",\n              \"type\": \"image/png\"\n            }}></source>{`\n          `}<img parentName=\"picture\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"src\": \"/overview/static/a87d0fc1bbc403c63e8a17a8e9684863/73241/5-sample-workflow.png\",\n              \"alt\": \"roadmap\",\n              \"title\": \"roadmap\",\n              \"loading\": \"lazy\",\n              \"decoding\": \"async\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              }\n            }}></img>{`\n        `}</picture>{`\n    `}</span>\n      </ImageCard>\n    </Column>\n    <p>{`The component `}<inlineCode parentName=\"p\">{`A`}</inlineCode>{` access a database and produces some output which the components `}<inlineCode parentName=\"p\">{`B`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`C`}</inlineCode>{` read. The component `}<inlineCode parentName=\"p\">{`D`}</inlineCode>{` then reads the outputs of of `}<inlineCode parentName=\"p\">{`B`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`C`}</inlineCode>{`. Finally, component `}<inlineCode parentName=\"p\">{`E`}</inlineCode>{` processes the output of `}<inlineCode parentName=\"p\">{`D`}</inlineCode>{`. Databases typically hold more than just a single item and manually unrolling graphs to match the number of input items is tedious and error prone.`}</p>\n    <p>{`ST4SD supports simple markets to indicate when the graph unrolling begins and ends. We call these markets `}<inlineCode parentName=\"p\">{`replication`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`aggregation`}</inlineCode>{` markers. Let’s imagine that components `}<inlineCode parentName=\"p\">{`A`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`B`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`C`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`D`}</inlineCode>{` should execute once per input item but the `}<inlineCode parentName=\"p\">{`E`}</inlineCode>{` component should execute just once to aggregate the results of all the replicas of the `}<inlineCode parentName=\"p\">{`D`}</inlineCode>{` component.`}</p>\n    <p>{`You can write a ST4SD experiment in which:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`the `}<inlineCode parentName=\"li\">{`A`}</inlineCode>{` component contains a configuration option which `}<inlineCode parentName=\"li\">{`replicates`}</inlineCode>{` the sub-graph that starts from `}<inlineCode parentName=\"li\">{`A`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`the `}<inlineCode parentName=\"li\">{`E`}</inlineCode>{` component contains a configuration option which `}<inlineCode parentName=\"li\">{`aggregates`}</inlineCode>{` the sub-graph(s) that feed their outputs to `}<inlineCode parentName=\"li\">{`E`}</inlineCode>{`.`}</li>\n    </ul>\n    <p>{`ST4SD will automatically configure the components between `}<inlineCode parentName=\"p\">{`[A, E)`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`replicate`}</inlineCode>{` for as many times as the `}<inlineCode parentName=\"p\">{`A`}</inlineCode>{` component replicates. Notice that the components include `}<inlineCode parentName=\"p\">{`A`}</inlineCode>{` (start of replication) but exclude `}<inlineCode parentName=\"p\">{`E`}</inlineCode>{` (aggregating node). The runtime modifies the aggregating component `}<inlineCode parentName=\"p\">{`E`}</inlineCode>{` so that any parameters it receives to any of the replicated components are rewritten such that they point to `}<em parentName=\"p\">{`all`}</em>{` replicated components. The annotated graph with the replicate/aggregate markers looks like this:`}</p>\n    <Column colMd={4} colLg={4} noGutterSm mdxType=\"Column\">\n      <ImageCard href=\"/\" disabled mdxType=\"ImageCard\">\n        <span {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"343px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"134.7222222222222%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,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')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n              \"srcSet\": [\"/overview/static/f65e45af075e9804bf51927c5badea13/0eda2/5-replication-instructions.webp 288w\", \"/overview/static/f65e45af075e9804bf51927c5badea13/cf4fe/5-replication-instructions.webp 343w\"],\n              \"sizes\": \"(max-width: 343px) 100vw, 343px\",\n              \"type\": \"image/webp\"\n            }}></source>{`\n          `}<source parentName=\"picture\" {...{\n              \"srcSet\": [\"/overview/static/f65e45af075e9804bf51927c5badea13/7fc1e/5-replication-instructions.png 288w\", \"/overview/static/f65e45af075e9804bf51927c5badea13/73241/5-replication-instructions.png 343w\"],\n              \"sizes\": \"(max-width: 343px) 100vw, 343px\",\n              \"type\": \"image/png\"\n            }}></source>{`\n          `}<img parentName=\"picture\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"src\": \"/overview/static/f65e45af075e9804bf51927c5badea13/73241/5-replication-instructions.png\",\n              \"alt\": \"roadmap\",\n              \"title\": \"roadmap\",\n              \"loading\": \"lazy\",\n              \"decoding\": \"async\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              }\n            }}></img>{`\n        `}</picture>{`\n    `}</span>\n      </ImageCard>\n    </Column>\n    <p>{`When executing the experiment and setting `}<inlineCode parentName=\"p\">{`A`}</inlineCode>{` to replicate 2 times you get this unrolled graph:`}</p>\n    <Column colMd={11} colLg={11} noGutterSm mdxType=\"Column\">\n      <ImageCard href=\"/\" disabled aspectRatio=\"16:9\" mdxType=\"ImageCard\">\n        <span {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"703px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"67.0138888888889%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADiElEQVQ4y3VR+2uTVxh+vjTGpmmTL23SJG2a65cvN5svly9Jr7k1Jk3apLdFZ7dqM1NjWkqNU9FtnVJUmO2YnWyO7RcnCG50yIQOhA23gSC74J8g+MsYu+jYQPzBnXEy+tv2wAvnfc77Pu95nwMhUwPQ1gQA7baBL1RGgai6BaLhhm+AYdGi80qF3DL+PpxGieekKYMOFaH3zJjVTHJWM9nHcw/Jra1dhBCspRIM1WHsA3OwRUsQx+sRnSu13uXNXIpMnNjjih2CM1Zu1GQ4J/NhcRzv5rO4UymblsPBN17p9b63OZbL1iMi1uJDoKJgLVEMvbjWn1/8QCCENLHmCJhWI71syh65Eo3Nng80WwZxLCLi62qF/+bowjD563GLqFbhBYedDsOj1TOu7fm5RCPp5BOfdFjDT9Vm8Yneky5JlBboPRnoXKkFtSX8Z7tZfM7yyXPHI8FD0zz3dJKzPTvodV+gvXerFTooWuK5R5Tf73Tcg9YR+4Ht8ROVMUD07pHFtu4ADF4qmFxlewKENfqJiot/tCIGTxdsFkK9m/O4rlPB94tjVDA7xdlI3momM5ztp8YrXfH5ojC6FG14ADS8oOHL1OLuxHyWckmrG5fzo7HLuewoufWpbKeO4nppes96Jj3z4PgxBfadvtkg39z6reXq90Q+Ut4YylQ2Y7d/IbLNu0SOXUDy1CK2rg0iymtAHhMZ+fWP3Q/qy55vjy6Mk+3breTzz1qpxpdHDgNCpka/uklh8EHLx1dZU+g5awo907sTdeA+nGNGRV/VLo/XTM3xCaOC4FVURWFymrM9mbBb6fof418wb2XSDPjBWQAyCWW0jthVtSlEaOg98bc3fnc1+2d7OsT5LjON/gNGjYNwsmpUqE1yNlKwW8lLbudXhBCGrr8UCgBWcQqRyZPYW77UGGMOTfVZwjMiPe9fn4WrqMEO7FkNbvz8MkJmFhdHEu4T0XCC3L8nvZBO4WxiGNOcDTD6cvDtraJv6lTDZKO/gJ5AEZCDUXG70R1RO7Q+1U1tr3JbH2IHpJ3N0FvkkrOxIayIQTxcfQ2vx4ZwcqAPCYMOSJc3wA8eaIiKhTpMgYLEHChI2l0dUqVdgQ5v2zWVTUmUFiVRO9u+2/FrKR6SrEREyTv5UVxMp3AuGcOV8Tz+FwaRZQxhFsZ+tUXnZ+/o/OyPXWE2ou1VolNQMcGDXf/Z+A9Mig0YkJyFeQAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n              \"srcSet\": [\"/overview/static/62ea42ce8ab58bc1b5ed214675866f3c/0eda2/5-replicated.webp 288w\", \"/overview/static/62ea42ce8ab58bc1b5ed214675866f3c/460e2/5-replicated.webp 576w\", \"/overview/static/62ea42ce8ab58bc1b5ed214675866f3c/1c5a9/5-replicated.webp 703w\"],\n              \"sizes\": \"(max-width: 703px) 100vw, 703px\",\n              \"type\": \"image/webp\"\n            }}></source>{`\n          `}<source parentName=\"picture\" {...{\n              \"srcSet\": [\"/overview/static/62ea42ce8ab58bc1b5ed214675866f3c/7fc1e/5-replicated.png 288w\", \"/overview/static/62ea42ce8ab58bc1b5ed214675866f3c/a5df1/5-replicated.png 576w\", \"/overview/static/62ea42ce8ab58bc1b5ed214675866f3c/b607e/5-replicated.png 703w\"],\n              \"sizes\": \"(max-width: 703px) 100vw, 703px\",\n              \"type\": \"image/png\"\n            }}></source>{`\n          `}<img parentName=\"picture\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"src\": \"/overview/static/62ea42ce8ab58bc1b5ed214675866f3c/b607e/5-replicated.png\",\n              \"alt\": \"roadmap\",\n              \"title\": \"roadmap\",\n              \"loading\": \"lazy\",\n              \"decoding\": \"async\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              }\n            }}></img>{`\n        `}</picture>{`\n    `}</span>\n      </ImageCard>\n    </Column>\n    <p>{`There are now 2 `}<inlineCode parentName=\"p\">{`replicas`}</inlineCode>{` of each of the components `}<inlineCode parentName=\"p\">{`A`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`B`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`C`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`D`}</inlineCode>{`. Each of the replicas has a suffix indicating its `}<inlineCode parentName=\"p\">{`replica id`}</inlineCode>{`.`}</p>\n    <p>{`Let’s build a simple experiment which contains replicating components. It has `}<inlineCode parentName=\"p\">{`N`}</inlineCode>{` components that produce 1 file each containing 1 pair of integers. There are `}<inlineCode parentName=\"p\">{`N`}</inlineCode>{` components to process each of those pairs and calculate the sum of the numbers in the file. A final component consumes the `}<inlineCode parentName=\"p\">{`N`}</inlineCode>{` sums and prints their product.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`entrypoint:\n  entry-instance: product-of-sums\n  execute:\n    - target: <entry-instance>\n      args:\n        N: 3\nworkflows:\n- signature:\n    name: product-of-sums\n    parameters:\n      - name: N\n        default: 1\n  steps:\n    generate-random-pairs: generate-random-pairs\n    sum: sum\n    calculate-product: calculate-product\n  execute:\n    - target: <generate-random-pairs>\n      args:\n        number_pairs: \"%(N)s\"\n    - target: <sum>\n      args:\n        file: <generate-random-pairs>/pair.yaml:ref\n    - target: <calculate-product>\n      args:\n        numbers: <sum>:output\n\ncomponents:\n- signature:\n    name: generate-random-pairs\n    parameters:\n      - name: number_pairs\n      - name: output_file\n        default: pair.yaml\n      - name: random_seed\n        default: 42\n      - name: value_min\n        default: 1\n      - name: value_max\n        default: 10\n  workflowAttributes:\n    replicate: \"%(number_pairs)s\"\n  command:\n    executable: bin/generate_input.py\n    arguments: \"%(random_seed)s %(value_min)s %(value_max)s %(output_file)s\"\n\n- signature:\n    name: sum\n    parameters:\n      - name: file\n  command:\n    executable: bin/sum.py\n    arguments: \"%(file)s %(replica)s\"\n\n- signature:\n    name: calculate-product\n    parameters:\n      - name: numbers\n  workflowAttributes:\n    aggregate: true\n  command:\n    executable: bin/product.py\n    arguments: \"%(numbers)s\"\n`}</code></pre>\n    <p>{`File: `}<inlineCode parentName=\"p\">{`5-replication.package/conf/dsl.yaml`}</inlineCode></p>\n    <h3>{`Replication and Aggregation`}</h3>\n    <p>{`The `}<inlineCode parentName=\"p\">{`generate-random-pairs`}</inlineCode>{` component contains a `}<inlineCode parentName=\"p\">{`workflowAttributes.replicate`}</inlineCode>{` field whose value is `}<inlineCode parentName=\"p\">{`%(number_pairs)s`}</inlineCode>{`. When the value of that field is greater than 0 the runtime replicates the sub-graph for as many times as the value of this field. The replicated sub-graph starts from that node till it either reaches a component containing the field `}<inlineCode parentName=\"p\">{`workflowAttributes.aggregate=true`}</inlineCode>{` (excluding the aggregating component) or a leaf-component (including the leaf component).`}</p>\n    <p>{`The name of a component’s replica starts with the name of the component and ends with the index of the replica.`}</p>\n    <p>{`In this experiment, `}<inlineCode parentName=\"p\">{`generate-random-pairs`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`sum`}</inlineCode>{` components to replicate for `}<inlineCode parentName=\"p\">{`3`}</inlineCode>{` times. The 3 replicas of the `}<inlineCode parentName=\"p\">{`sum`}</inlineCode>{` component are `}<inlineCode parentName=\"p\">{`sum0`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`sum1`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`sum2`}</inlineCode>{`.`}</p>\n    <p>{`The runtime system also automatically injects a parameter to replicated components called `}<inlineCode parentName=\"p\">{`replica`}</inlineCode>{`. It holds the `}<inlineCode parentName=\"p\">{`replica id`}</inlineCode>{` of that component.`}</p>\n    <p>{`Here’s how that component looks like:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`- signature:\n    name: sum\n    parameters:\n      - name: file\n  command:\n    executable: bin/sum.py\n     # the replica parameter is auto injected, it does not appear\n     # in the signature of this component\n    arguments: \"%(file)s %(replica)s\"\n`}</code></pre>\n    <p>{`When an aggregating component has a parameter whose value points to a replicating component, the runtime system automatically rewrites the value in way that it “aggregates” that specific output of all the referenced replicated components.`}</p>\n    <p>{`In this example, the parameter `}<inlineCode parentName=\"p\">{`numbers`}</inlineCode>{` of `}<inlineCode parentName=\"p\">{`calculate-product`}</inlineCode>{` starts with a value of `}<inlineCode parentName=\"p\">{`<sum>:output`}</inlineCode>{`. The runtime system detects that `}<inlineCode parentName=\"p\">{`sum`}</inlineCode>{` is a replicated component and rewrites the  `}<inlineCode parentName=\"p\">{`<sum>:output`}</inlineCode>{` output reference. The value of the `}<inlineCode parentName=\"p\">{`numbers`}</inlineCode>{` parameter becomes `}<inlineCode parentName=\"p\">{`<sum0>:output <sum1>:output <sum2>:output`}</inlineCode>{`.`}</p>\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p>{`The references to 3 the replicated outputs are separated by a space.`}</p>\n    </InlineNotification>\n    <h3>{`Exercises`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Run the experiment and look around the `}<inlineCode parentName=\"li\">{`stages`}</inlineCode>{` directory`}</li>\n      <li parentName=\"ul\">{`Use a `}<inlineCode parentName=\"li\">{`variables.yaml`}</inlineCode>{` file to change the number of times the experiment replicates its `}<inlineCode parentName=\"li\">{`generate-input -> sum`}</inlineCode>{` sub-graph`}</li>\n    </ul>\n    <h2>{`What’s next?`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`More information on running experiments directly, i.e. via `}<inlineCode parentName=\"li\">{`elaunch.py`}</inlineCode>{` `}<a parentName=\"li\" {...{\n          \"href\": \"https://st4sd.github.io/overview/direct-run\"\n        }}>{`here`}</a></li>\n      <li parentName=\"ul\">{`More information on the DSL of ST4SD i.e. how to write experiments `}<a parentName=\"li\" {...{\n          \"href\": \"https://st4sd.github.io/overview/workflow-specification-dsl\"\n        }}>{`here`}</a></li>\n      <li parentName=\"ul\">{`More information on how to structure and test your experiments `}<a parentName=\"li\" {...{\n          \"href\": \"https://st4sd.github.io/overview/packaging-workflows/\"\n        }}>{`here`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","makeShortcode","name","props","console","warn","mdx","PageDescription","AnchorLinks","AnchorLink","InlineNotification","Column","ImageCard","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutProperties","_excluded","Object","assign","mdxType","parentName","kind","colMd","colLg","noGutterSm","href","disabled","aspectRatio","isMDXComponent"],"sourceRoot":""}
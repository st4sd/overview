"use strict";(self.webpackChunkst4sd_overview=self.webpackChunkst4sd_overview||[]).push([[62],{3205:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return s},default:function(){return g}});var i=n(5987),o=(n(7294),n(4983)),a=n(1217);const r=["components"],s={},l=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",t)},p=l("PageDescription"),d=l("AnchorLinks"),c=l("AnchorLink"),m=l("InlineNotification"),u=l("Accordion"),h=l("AccordionItem"),k={_frontmatter:s},f=a.Z;function g(e){let{components:t}=e,n=(0,i.Z)(e,r);return(0,o.kt)(f,Object.assign({},k,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(p,{mdxType:"PageDescription"},(0,o.kt)("p",null,"Use this page to learn the best practices for developing virtual experiments.")),(0,o.kt)(d,{mdxType:"AnchorLinks"},(0,o.kt)(c,{mdxType:"AnchorLink"},"Strong versioning"),(0,o.kt)(c,{mdxType:"AnchorLink"},"Coding style and guidelines"),(0,o.kt)(c,{mdxType:"AnchorLink"},"CI/CD and testing"),(0,o.kt)(c,{mdxType:"AnchorLink"},"Developer metadata")),(0,o.kt)("p",null,"This page collects a set of best practices for developing virtual experiments that are driven by our experience in this field.\nWhile choosing whether to follow them or not is up to the developer, the Registry UI will test and display a status report for\nsome of the most important ones."),(0,o.kt)(m,{mdxType:"InlineNotification"},(0,o.kt)("p",null,"Each of the guidelines will explicitly state whether it is tested by the Registry\nor it is just a convention that should be followed, with the emojis having the following\nmeanings:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"✅ tested by the registry now.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"☑️ will be tested by the registry in the future.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"⚠️ convention: not testable, but recommend to follow.")))),(0,o.kt)("h2",null,"Strong versioning"),(0,o.kt)("p",null,"For an experiment to be repeatable we need to ensure that the underlying pieces that make up the experiment will not change over time.\nThis translates to the following set of requirements:"),(0,o.kt)(u,{mdxType:"Accordion"},(0,o.kt)(h,{title:"✅ Use tagged container images",mdxType:"AccordionItem"},(0,o.kt)("p",null,"Container images should not use the ",(0,o.kt)("inlineCode",{parentName:"p"},"latest")," tag (explicitly or implicitly),\nas it is more likely to be updated.")),(0,o.kt)(h,{title:"✅ Use strong identifiers for base packages",mdxType:"AccordionItem"},(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/overview/creating-a-parameterised-package/#sources"},"Base package sources"),"\nshould be hosted on a platform that supports versioning (e.g., git)\nand reference an identifier that will not change over time (e.g., a commit ID)."))),(0,o.kt)("h2",null,"Coding style and guidelines"),(0,o.kt)("p",null,"The following guidelines ensure your virtual experiment leverage ST4SD functionalities as best they can\nwhile also providing reusability."),(0,o.kt)(u,{mdxType:"Accordion"},(0,o.kt)(h,{title:"✅ Include a virtual experiment interface",mdxType:"AccordionItem"},(0,o.kt)("p",null,"Experiments should always include an ",(0,o.kt)("a",{parentName:"p",href:"/overview/writing-a-virtual-experiment-interface"},"interface")," to simplify information\nretrieval and external integrations.")),(0,o.kt)(h,{title:"✅ List workflow inputs in the inputs section",mdxType:"AccordionItem"},(0,o.kt)("p",null,"User-supplied data should be listed in the ",(0,o.kt)("inlineCode",{parentName:"p"},"inputs")," section.\nNo default value for the ",(0,o.kt)("inlineCode",{parentName:"p"},"inputs")," that sits in ",(0,o.kt)("inlineCode",{parentName:"p"},"data")," should be set. ")),(0,o.kt)(h,{title:"⚠️ Give components appropriate names",mdxType:"AccordionItem"},(0,o.kt)("p",null,"The name of the components should reflect at all times what they do,\neven if we are modifying an experiment that we fork.")),(0,o.kt)(h,{title:"⚠️ Use platforms for non-functional information",mdxType:"AccordionItem"},(0,o.kt)("p",null,"Platforms should be primarily used to encode non-functional information,\nsuch as resource limits. Read up more about platforms\n",(0,o.kt)("a",{parentName:"p",href:"/overview/workflow-specification/#platforms"},"here"),". ")),(0,o.kt)(h,{title:"⚠️ List component input files explicitly",mdxType:"AccordionItem"},(0,o.kt)("p",null,"Unless a component consumes a large amount of inputs, the experiment should\nlist them one by one, instead of just the directory they are in. ")),(0,o.kt)(h,{title:"☑️ Ensure the default platform works",mdxType:"AccordionItem"},(0,o.kt)("p",null,"The experiment should have defaults set for all options that are not ",(0,o.kt)("inlineCode",{parentName:"p"},"inputs"),".\nThis implies that the\n",(0,o.kt)("a",{parentName:"p",href:"/overview/workflow-specification/#default-platform"},"default platform"),"\nshould be runnable."))),(0,o.kt)("h2",null,"CI/CD and testing"),(0,o.kt)("p",null,"To make sure the experiment is valid and works as expected, we suggest the use of the following\ntools and their inclusion in CI pipelines."),(0,o.kt)(u,{mdxType:"Accordion"},(0,o.kt)(h,{title:"⚠️ Test the experiment in your CI",mdxType:"AccordionItem"},(0,o.kt)("p",null,"Run\n",(0,o.kt)("a",{parentName:"p",href:"/overview/packaging-workflows/#testing-projects"},"etest"),"\nat each commit for all platforms")),(0,o.kt)(h,{title:"☑️ Run enhanced tests",mdxType:"AccordionItem"},(0,o.kt)("p",null,"Adopt ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Yelp/Testify"},"testify")," to run more extensive tests."))),(0,o.kt)("h2",null,"Developer metadata"),(0,o.kt)("p",null,"Adding metadata to a parameterised package can greatly help other users understand what it does,\nwhat license it comes with, and is also useful for filtering purposes in the global virtual experiments registry.\nAs such, it is important for all the following fields to be populated."),(0,o.kt)(u,{mdxType:"Accordion"},(0,o.kt)(h,{title:"⚠️ Set a description",mdxType:"AccordionItem"},(0,o.kt)("p",null,"The parameterised package should provide a description of what it does,\nin order to help other users.")),(0,o.kt)(h,{title:"✅ Include maintainer information",mdxType:"AccordionItem"},(0,o.kt)("p",null,"Parameterised packages should specify who the maintainer is, so that\nusers can get in touch with someone in case of need.")),(0,o.kt)(h,{title:"✅ Include a license",mdxType:"AccordionItem"},(0,o.kt)("p",null,"Parameterised packages should specify what license they are provided with,\nas this can set requirements for re-use and modifications.")),(0,o.kt)(h,{title:"✅ Specify a tag for the parameterised package",mdxType:"AccordionItem"},(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/overview/creating-a-parameterised-package/#adding-a-parameterised-package-to-a-registry"},"Parameterised packages in the registry"),"\nshould have a meaningful tag and not rely on ",(0,o.kt)("inlineCode",{parentName:"p"},"latest"),"."))))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-virtual-experiment-developer-best-practices-mdx-6e143cc640ca58388d62.js.map
{"version":3,"file":"component---src-pages-creating-and-modifying-packages-with-stp-mdx-4bf71da8bac9e3bd2a82.js","mappings":"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","sources":["webpack://st4sd-overview/./src/pages/creating-and-modifying-packages-with-stp.mdx"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/travis/build/st4sd/overview/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    {/*\n       Copyright IBM Inc. All Rights Reserved.\n      SPDX-License-Identifier: Apache-2.0\n     */}\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`A high level overview of how `}<inlineCode parentName=\"p\">{`stp`}</inlineCode>{` can help you create and modify packages.`}</p>\n      <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n        <p>{`You can always use the `}<inlineCode parentName=\"p\">{`-h`}</inlineCode>{` flag to see additional help for each of the commands\nmentioned here.`}</p>\n      </InlineNotification>\n    </PageDescription>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Creating PVEPs</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Updating PVEP definitions</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Checking PVEP syntax</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Prerequisites`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Ensure you have correctly installed the ST4SD Runtime Core module\n(instructions `}<a parentName=\"li\" {...{\n          \"href\": \"/overview/#try-it-yourself\"\n        }}>{`here`}</a>{`).`}</li>\n    </ul>\n    <h2>{`Creating PVEPs`}</h2>\n    <p>{`Parameterised Virtual Experiment Packages (PVEPs) are parameterisations of our\nexperiments that need to be created before they can be added the Registry to be\nrun or shared. `}<inlineCode parentName=\"p\">{`stp`}</inlineCode>{` can help getting started with this by generating a valid,\nhigh-level PVEP that the user can later add details to.`}</p>\n    <InlineNotification kind=\"info\" mdxType=\"InlineNotification\">\n      <p>{`This feature requires for the experiment to be in a git repository.`}</p>\n    </InlineNotification>\n    <p>{`As we need a virtual experiment to test this feature, we will use the\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/st4sd/nanopore-geometry-experiment\"\n      }}>{`nanopore-geometry-experiment`}</a>{`\nexperiment as our starting point. Let us start by cloning it and `}<inlineCode parentName=\"p\">{`cd`}</inlineCode>{`-ing into\nits directory:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-commandline\"\n      }}>{`git clone https://github.com/st4sd/nanopore-geometry-experiment\ncd nanopore-geometry-experiment\n`}</code></pre>\n    <p>{`To create the PVEP we then need to run:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-commandline\"\n      }}>{`stp package create --manifest manifest.yaml\n`}</code></pre>\n    <p>{`The resulting PVEP can already be pushed to the Registry using the\n`}<inlineCode parentName=\"p\">{`stp package push`}</inlineCode>{` command we learned about in the\n`}<a parentName=\"p\" {...{\n        \"href\": \"/overview/getting-and-adding-packages-with-stp#pushing-pveps\"\n      }}>{`previous tutorial`}</a>{`.`}</p>\n    <h2>{`Updating PVEP definitions`}</h2>\n    <p>{`During the development phase of our virtual experiments, we will regularly\ncommit changes to the git repository.`}</p>\n    <p>{`If we are following the set of\n`}<a parentName=\"p\" {...{\n        \"href\": \"/overview/virtual-experiment-developer-best-practices#strong-versioning\"\n      }}>{`best practices`}</a>{`\nwe have defined, the commit ID will be included in our PVEP, ensuring ST4SD\nexecutes the `}<em parentName=\"p\">{`exact`}</em>{` version of our experiment, improving results\nreproducibility. Provided is an example of how this might look like in your\nPVEP:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"name\": \"nanopore-geometry-experiment\",\n  \"source\": {\n    \"git\": {\n      \"location\": {\n        \"url\": \"https://github.com/st4sd/nanopore-geometry-experiment\",\n        \"commit\": \"85244f5c84d6c0e02aa7a2e1685b004cd0b3cdd2\"\n      }\n    }\n  }\n}\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`stp`}</inlineCode>{` makes updating the commit ID and metadata tags of our PVEP as painless as\npossible by providing the `}<inlineCode parentName=\"p\">{`update-definition`}</inlineCode>{` command. In the\n`}<inlineCode parentName=\"p\">{`nanopore-geometry-experiment`}</inlineCode>{` folder from the previous example we can run:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-commandline\"\n      }}>{`stp package update-definition --path nanopore-geometry-experiment.json \\\\\n        --use-latest-commit \\\\\n        --tag latest\n`}</code></pre>\n    <p>{`The PVEP definition may now look similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"base\": {\n    \"packages\": [\n      {\n        \"name\": \"nanopore-geometry-experiment\",\n        \"source\": {\n          \"git\": {\n            \"location\": {\n              \"url\": \"https://github.com/st4sd/nanopore-geometry-experiment\",\n              \"commit\": \"1682f979531ddef602440f0a3b146edb5916c001\"\n            }\n          }\n        },\n      }\n    ]\n  },\n  \"metadata\": {\n    \"package\": {\n      ...\n      \"tags\": [\n        \"latest\"\n      ],\n    }\n  },\n}\n`}</code></pre>\n    <h2>{`Checking PVEP syntax`}</h2>\n    <p>{`When we manually edit our PVEPs, we risk making mistakes. Fortunately, `}<inlineCode parentName=\"p\">{`stp`}</inlineCode>{`\nincludes a syntax checker that can help us identify and fix our errors. Letâ€™s\nintentionally introduce a mistake into our `}<inlineCode parentName=\"p\">{`nanopore-geometry-experiment`}</inlineCode>{` PVEP,\nwhich we obtained earlier in this tutorial, by adding a `}<inlineCode parentName=\"p\">{`nonexistent`}</inlineCode>{` field to\nthe `}<inlineCode parentName=\"p\">{`metadata`}</inlineCode>{` section.`}</p>\n    <p>{`Hereâ€™s how the updated section now looks:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`\"metadata\": {\n  \"package\": {\n    \"name\": \"nanopore-geometry-experiment\",\n    \"tags\": [],\n    \"license\": \"\",\n    \"maintainer\": \"\",\n    \"description\": \"\",\n    \"nonexistent\": true,\n    \"keywords\": []\n  }\n},\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`stp`}</inlineCode>{` will point us to the error when we run `}<inlineCode parentName=\"p\">{`stp package test`}</inlineCode>{`, as such:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-commandline\"\n      }}>{`stp package test nanopore-geometry-experiment.json\nValidation error in instance['metadata']['package']:\nAdditional properties are not allowed ('nonexistent' was unexpected)\n`}</code></pre>\n    <h2>{`Next steps`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Learn how to use the `}<a parentName=\"li\" {...{\n          \"href\": \"/overview/running-workflows-on-openshift\"\n        }}>{`ST4SD Python APIs`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`See all the `}<a parentName=\"li\" {...{\n          \"href\": \"/overview/stp\"\n        }}>{`available stp commands`}</a>{`.`}</li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","makeShortcode","name","props","console","warn","mdx","PageDescription","InlineNotification","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","_objectWithoutProperties","_excluded","Object","assign","mdxType","parentName","kind","isMDXComponent"],"sourceRoot":""}